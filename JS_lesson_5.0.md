# JavaScript для новичков.
***
## Пример один:
Давайте попробуем написать программу, которая показывает среднюю посещаемость пользователей.
```javascript
var expectedUsers = 1000; //ожидаемая посещаемость

//посещаемость за три дня
var firstDayUsers = 812;
var secondDayUsers = 1360;
var thirdDayUsers = 657;

 //ищем среднюю посещаемость
var averageUsers = (firstDayUsers + secondDayUsers + thirdDayUsers) / 3;
console.log('Средняя посещаемость: ' + averageUsers);

//если посещаемость ниже ожидаемого выводим сообщение об этом в консоль.
if (averageUsers > expectedUsers) {
  console.log('Посещаемость великолепна. Продолжай в том же духе!');
} else {
  console.log('Посещаемость так себе. Нужно поднапрячься.');
}

```
***
## Пример два:
Мы сделаем рефакторинг чуть позже. А сейчас поучимся работать с массивами.

Массив — это цельный список, поэтому его можно записать в одну переменную и эту переменную передать в какую-нибудь команду, например, в keks.plot(). Согласитесь, что это удобнее, чем передавать в команду множество отдельных переменных.

При обработке массивов почти всегда нужно получать его отдельные значения. Чтобы получить элемент массива, нужно в уже знакомых квадратных скобках указать порядковый номер или индекс этого элемента.
```javascript
var numbers = [1, 2, 3, 4, 5];

// Выведет в консоль: 2
console.log(numbers[1]);
```
Но почему вывелась двойка, а не единица? Нумерация элементов в массиве начинается с нуля: первый элемент массива идёт под номером ноль, второй — под номером один, третий — два и так далее.

Подытожим. Чтобы получить первый элемент массива, например, usersByDay, нужно написать usersByDay[0]. Название переменной показывает, что мы обращаемся к массиву. Квадратные скобки говорят о том, что нам нужен не весь массив, а только один из его элементов. В квадратные скобки мы передаём номер нужного нам элемента.

```javascript
var usersByDay = [812, 1360, 657, 1247];

var firstDayUsers = usersByDay[0];
console.log(firstDayUsers);

var fourthDayUsers = usersByDay[3];
console.log(fourthDayUsers);
```

***
## Пример три:

В квадратные скобки можно передавать не только числа. Туда можно передать любое выражение. Это выражение в итоге будет преобразовано в число.

Давайте попрактикуемся с таким способом обращения к элементам массива и поочерёдно переберём их с помощью одной и той же переменной. Для этого нужно завести переменную для хранения текущего индекса элемента массива. Назовём её **index** и запишем в неё начальное значение ноль.

Если теперь вывести в консоль выражение **usersByDay[index]**, то мы увидим первое значение массива. Ведь сейчас в переменной хранится ноль, и выражение **usersByDay[index]** равнозначно **usersByDay[0].**

Если изменить значение переменной **index** с нуля на единицу и снова обратиться к **usersByDay[index]**, то мы получим элемент с индексом **1**, то есть второй элемент.

Смотрите, выражение в скобках в обоих случаях одинаковое: **usersByDay[index]**. Но в разных условиях оно возвращает разные значения.

Если мы продолжим увеличивать index и читать элементы массива usersByDay, то рано или поздно мы пройдём по всем элементам.

Длину массива можно узнать командой .legth.

```javascript
var usersByDay = [812, 1360, 657, 1247];

var index = 0;
console.log(usersByDay[index]);

index = 3;
console.log(usersByDay[index]);

console.log(usersByDay.length);//длина массива
console.log(usersByDay[usersByDay.length - 1]);//последний элемент массива

```
## Пример четыре:
Циклы и массивы тесно связаны между собой. Для многих операций на массивах, например, подсчёта суммы элементов, используются циклы. Теперь и вы готовы использовать цикл для обхода массива.

Для этой задачи лучше всего подойдёт цикл for. Переменная цикла будет использоваться как индекс элементов массива. Поэтому зададим ей нулевое значение и будем увеличивать в каждой итерации на единицу, пока её значение не станет равным индексу последнего элемента.

Традиционное название переменной цикла i — это сокращение от index, то есть индекса или порядкового номера. Это тоже одно из соглашений среди программистов, которое позволяет сократить код.

Ещё один стилистический момент. Как лучше писать условие выхода из цикла? Есть два варианта. Рассмотрим их на примере массива из трёх элементов:


Первый вариант: i < usersByDay.length
usersByDay.length == 3

Подготовка: i = 0
1 итерация: i = 0; 0 < 3? да! действия первой итерации; i = 1
2 итерация: i = 1; 1 < 3? да! действия второй итерации; i = 2
3 итерация: i = 2; 2 < 3? да! действия третьей итерации; i = 3
4 итерация: i = 3; 3 < 3? нет! Завершаем цикл!

Второй вариант: i <= usersByDay.length - 1
usersByDay.length - 1 == 2

Подготовка: i = 0
1 итерация: i = 0; 0 <= 2? да! действия первой итерации; i = 1
2 итерация: i = 1; 1 <= 2? да! действия второй итерации; i = 2
3 итерация: i = 2; 2 <= 2? да! действия третьей итерации; i = 3
4 итерация: i = 3; 3 <= 2? нет! Завершаем цикл!


Оба варианта условия выхода, i < usersByDay.length и i <=
usersByDay.length - 1, работают одинаково. Но пока мы
будем использовать второй вариант, с вычитанием единицы.
Он будет напоминать нам про непривычную нумерацию
элементов массива, которая начинается с нуля.


Пример работы программы.

```javascript
var usersByDay = [812, 1360, 657, 1247];

for(var i = 0; i <= usersByDay.length - 1; i++){
  console.log(usersByDay[i]);
  }
```

***
## Пример пять:

В цикле можно не только выводить элементы массива в консоль, но и проводить с ними какие-то операции. Например, суммировать.

Для этого нужно перед циклом завести переменную с нулевым значением. Затем на каждой итерации прибавлять к ней значение очередного элемента массива. В итоге после цикла в переменной окажется сумма всех элементов.

Наша задача — найти среднее значение. А для этого сначала нужно узнать сумму всех элементов.

Давайте перепишем цикл так, чтобы он не выводил значения элементов в консоль, а последовательно складывал их между собой и записывал в одну переменную.

```javascript
var usersByDay = [812, 1360, 657, 1247];

var totalUsers = 0;//всего пользователей

for (var i = 0; i <= usersByDay.length - 1; i++) {
totalUsers += usersByDay[i]
}
console.log(totalUsers);
```

***
## Пример шесть:
Предлагаю собрать данные о провалах в новый массив и вывести его на второй график. Для этого придётся записывать данные в массив. Запись в массив происходит так же, как и чтение — через обращение к элементу с помощью квадратных скобок:
```javascript
var numbers = [];
var index = 1;

numbers[0] = 1;
numbers[index] = 2;

// Выведет: [1,2]
console.log(numbers);
```
Обратите внимание, что если в массиве нет элемента под тем номером, под которым мы записываем, то этот элемент будет создан. До выполнения кода в массиве не было ни нулевого, ни первого элементов, но после того, как мы записали значения в эти позиции, элементы добавились в массив.

Чтобы сохранить согласованность с первым графиком, мы будем формировать массив с провальными днями в том же цикле, в котором суммируем посещаемость. Если посещаемость в i-й день хорошая, то будем записывать в i-й элемент массива провалов ноль, если посещаемость плохая, будем записывать туда величину провала.

Чтобы посчитать величину провала, будем из ожидаемого значения вычитать фактическое значение посещаемости. Например:

Посещаемость в пятый день составила 681 человек.
Разность ожидаемой посещаемости и фактической: 1000 - 681 = 319.
Значит, 319 человек — величина провала посещаемости в пятый день.
```javascript
var expectedUsers = 1000;

var usersByDay = [817, 1370, 752, 1247, 681, 1120, 915, 1281, 875, 1341, 757, 610, 812, 1170, 769, 1261, 845, 1289, 515, 1247, 845, 1311, 741, 1239, 812, 638, 877, 1242, 1159, 1372];//количество пользователей по дням

// Суммируем посещаемость и анализируем провалы
var totalUsers = 0;
var minUsers = expectedUsers - 100;
var badDays = [];//массив с провальной посещаемостью

for (var i = 0; i <= usersByDay.length - 1; i++) {
  totalUsers += usersByDay[i];
  console.log(totalUsers);//всего пользователей
  if (usersByDay[i] < minUsers) {
    badDays[i] = expectedUsers - usersByDay[i];
  }else{
    badDays[i] = 0;
    }
}



// Рассчитываем среднее значение посещаемости
var averageUsers = totalUsers / usersByDay.length;
console.log('Средняя посещаемость: ' + averageUsers);

if (averageUsers > expectedUsers) {
  console.log('Посещаемость великолепна. Продолжай в том же духе!');
} else {
  console.log('Посещаемость так себе. Нужно поднапрячься!');
}
```
***
## Теперь подытожим все, что узнали про массивы:


Массив — тип данных, который представляет собой список элементов, у каждого из которых есть свой порядковый номер.

В массиве можно хранить любые данные: строки, булевы значения, числа и даже другие массивы.

Нумерация элементов массива начинается с нуля, поэтому порядковый номер (индекс) первого элемента равен нулю.

В качестве индекса можно использовать переменную.

Используйте команду [].length, чтобы узнать длину массива (сколько в нём элементов). С её помощью можно получить последний элемент массива.
```javascript
var numbers = [1, 2, 3, 4, 5];
var index = 3;

console.log(numbers[0]);
// Выведет в консоль: 1

console.log(numbers[index]);
// Выведет в консоль: 4

console.log(numbers.length);
// Выведет в консоль: 5

console.log(numbers[numbers.length - 1]);
// Выведет в консоль: 5
```
Массивы можно перебирать в циклах. Например, цикл ниже выводит элементы массива в консоль по очереди и прекращает свою работу, когда i станет равно длине массива.

```javascript
var numbers = [1, 2, 3, 4, 5];

for (var i = 0; i < numbers.length; i++) {
  console.log(numbers[i]);
}

// Выведет: 1
// Выведет: 2
// Выведет: 3
// Выведет: 4
// Выведет: 5
```
Запись в массив происходит так же, как чтение, через квадратные скобки.
```javascript
var numbers = [];
var index = 1;

numbers[0] = 1;
numbers[index] = 2;

console.log(numbers);
// Выведет в консоль: [1,2]
```
